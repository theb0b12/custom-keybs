units:
  # kx and ky allow for easy- easi-er switching between MX and Choc.
  kx: u
  ky: u
  px: kx + 2
  py: ky + 2
  # These variables allow for updating the previews on https://ergogen.ceoloide.com
  $default_width: u
  $default_height: u
  # KiCAD places the PCB in the middle of nowhere to start with.
  # These variables give a starting place for later shifts.
  starting_x: 1
  starting_y: 1

points:
  zones:
  # left side
    r2:
      anchor:
        shift: [starting_x, starting_y]
      columns:
        esc:
          key:
            width: 1kx
            shift: [0.5kx, 0ky]
        q:
          key:
            spread: 1.5kx
        w:
        e:
        r:
        t:
        
    r3:
      anchor:
        shift: [starting_x, starting_y-ky]
      columns:
        tab:
          key:
            width: 1.25kx
            shift: [0.62kx, 0ky]
        a:
          key:
            spread: 1.75kx
        s:
        d:
        f:
        g:

    r4:
      anchor:
        shift: [starting_x, starting_y-2ky]
      columns:
        lshift:
          key:
            width: 1.75kx
            shift: [0.87kx, 0ky]
        z:
          key:
            spread: 2.25kx
        x:
        c:
        v:
        b:
    r5:
      anchor:
        shift: [starting_x, starting_y-3ky]
      columns:
        lctrl:
          key:
            width: 1.25kx
            shift: [0.62kx, 0ky]
        super:
          key:
            spread: 1.25kx
            width: 1.25kx
            shift: [0.62kx, 0ky]

    thumbfan:
      anchor:
        shift: [starting_x+5.8ky, starting_y-3ky]
      columns:
        lower:
          key:
            rotate: -7
            shift: [0, -2]
        space:
          key:
            width: 1.5kx
            rotate: 60
            shift: [0.33kx, -0.2ky]

    

  # right side
    r2_right:
      anchor:
        shift: [starting_x+200, starting_y]
      columns:
        y:
        u:
        i:
        o:
        p:
        backspace:


    r3_right:
      anchor:
        shift: [starting_x+200+0.37kx, starting_y-ky]
      columns:
        h:
        j:
        k:
        l:
        colon:
    
    r4_right:
      anchor:
        shift: [starting_x+197, starting_y-2ky]
      columns:
        b:
        n:
        m:
        comma:
        peroid:
        slash:
    
    r5_right:
      anchor:
        shift: [starting_x+216+2kx, starting_y-3ky]
      columns:
        left_arrow:
        down_arrow:
          key:
            shift: [0.000001, 0] # to fix silly bug that idk
        right_arrow:
        
    thumbfan_right:
      anchor:
        shift: [starting_x+9.5ky, starting_y-3ky]
      columns:
        space:
          key:
            width: 1.5kx
            rotate: -60
            shift: [-1, -0.2ky]
        raise:
          key:
            shift: [0.4kx, -2]
            rotate: 7

outlines:
  raw:
    - what: rectangle
      where: true
      size: [kx, ky]
  keys:
    - what: rectangle
      where: true
      size: [kx-0.5,ky-0.5]
    - what: rectangle
      where: [thumbfan_space]
      size: [kx*1.5, ky]
      fillet: 2
  board:
    - what: polygon
      operation: stack
      points:
        - ref: r2_esc
          shift: [-0.52px, 0.5py]
        - ref: r2_t
          shift: [2.5px, 0.5py]
        - ref: thumbfan_space
          shift: [18*1.5, 18*-0.6]
        - ref: thumbfan_space
          shift: [18*-0.8,18*-0.6]
        - ref: thumbfan_lower
          shift: [-0.5px, -0.5py]
        - ref: thumbfan_lower
          shift: [-0.5px, 0]
        - ref: r5_super
          shift: [0.5px, 0]
        - ref: r5_super
          shift: [0.5px, -0.5py]
        - ref: r5_lctrl
          shift: [-0.5px, -0.5py]
      fillet: 3
  combo:
    - name: board
    - operation: subtract
      name: keys